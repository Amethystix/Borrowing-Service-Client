(function(e){function t(t){for(var o,a,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],r[a]&&d.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},r={app:0},i=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5926637a","chunk-11ccd78c":"9432758a","chunk-209dd158":"d9dca4e0","chunk-4d890ee2":"65b3bc27","chunk-54f2bc06":"8e8f288d","chunk-5907760c":"f809553b","chunk-7c82ad4e":"0c513342","chunk-eff5b30e":"8324a545"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1,"chunk-11ccd78c":1,"chunk-209dd158":1,"chunk-4d890ee2":1,"chunk-54f2bc06":1,"chunk-5907760c":1,"chunk-7c82ad4e":1,"chunk-eff5b30e":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"1d72de18","chunk-11ccd78c":"95d5bc1b","chunk-209dd158":"c9bc8786","chunk-4d890ee2":"081b04d0","chunk-54f2bc06":"f49ccbbe","chunk-5907760c":"083dd205","chunk-7c82ad4e":"2f2568f7","chunk-eff5b30e":"6fc02657"}[e]+".css",a=s.p+o,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var c=r[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===o||u===a))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){c=l[i],u=c.getAttribute("data-href");if(u===o||u===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.request=o,n(r)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){a[e]=0}));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(function(t,n){o=r[e]=[t,n]});t.push(o[2]=i);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e),u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");i.type=o,i.request=a,n[1](i)}r[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"17db":function(e,t,n){},"28d5":function(e,t,n){},"3e10":function(e,t,n){"use strict";var o=n("fe26"),a=n.n(o);a.a},"41ea":function(e,t,n){},"54d9":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var o=n("8fba"),a=n.n(o);a.a},"658d":function(e,t,n){"use strict";var o=n("41ea"),a=n.n(o);a.a},"74a4":function(e,t,n){"use strict";var o=n("faa5"),a=n.n(o);a.a},"794e":function(e,t,n){},"8def":function(e,t,n){"use strict";var o=n("54d9"),a=n.n(o);a.a},"8fba":function(e,t,n){},9459:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:e.btnClass+" "+(e.spinning?"is-loading":""),attrs:{type:"submit",id:e.btnId,disabled:e.isDisabled},on:{click:e.buttonClick}},[n("span",{staticClass:"content"},[e._v(e._s(e.btnLabel)+"\n    "),e.spinning?n("div",{staticClass:"loading"}):e._e()])])},a=[],r=n("d4ec"),i=n("bee2"),c=n("99de"),s=n("7e84"),u=n("262e"),l=n("9ab4"),d=n("60a3"),f=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(i["a"])(t,[{key:"buttonClick",value:function(){this.$emit("buttonClick")}}]),t}(d["c"]);l["a"]([Object(d["b"])()],f.prototype,"btnClass",void 0),l["a"]([Object(d["b"])()],f.prototype,"btnId",void 0),l["a"]([Object(d["b"])()],f.prototype,"btnLabel",void 0),l["a"]([Object(d["b"])()],f.prototype,"spinning",void 0),l["a"]([Object(d["b"])()],f.prototype,"isDisabled",void 0),f=l["a"]([d["a"]],f);var b=f,p=b,h=(n("b988"),n("2877")),v=Object(h["a"])(p,o,a,!1,null,"02b92ca2",null);v.options.__file="LButton.vue";t["a"]=v.exports},a6f8:function(e,t,n){"use strict";var o=n("17db"),a=n.n(o);a.a},b988:function(e,t,n){"use strict";var o=n("28d5"),a=n.n(o);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("7f7f"),n("6762"),n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("pt-header",{attrs:{loggedIn:e.$cookies.get("token"),firstName:e.$cookies.get("user")?e.$cookies.get("user").firstName:"",userId:e.$cookies.get("user")?e.$cookies.get("user").uuid:""}}),n("router-view"),n("pt-footer")],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"header"}},[n("div",{staticClass:"inner-lavender"},[n("div",{staticClass:"logo-container"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}}),n("h1",[e._v("PalmTree")])],1)]),n("div",{ref:"header-mauve",staticClass:"outer-mauve-bottom"},[n("div",{staticClass:"login-link-container col-1"},[n("span",{staticClass:"about-link"},[n("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),e.loggedIn?n("span",{staticClass:"about-link"},[n("router-link",{attrs:{to:"/new-listing"}},[e._v("Create a Listing")])],1):e._e(),e.loggedIn?e._e():n("span",{staticClass:"login-link"},[n("router-link",{attrs:{to:"/login"}},[e._v("Log in")])],1),e.loggedIn?e._e():n("span",{staticClass:"login-link"},[n("router-link",{attrs:{to:"/register"}},[e._v("Sign up")])],1),e.loggedIn?n("span",{staticClass:"login-link"},[n("router-link",{attrs:{to:"/user/"+e.userId}},[e._v("Hey, "+e._s(e.firstName)+"!")])],1):e._e(),e.loggedIn?n("span",{staticClass:"login-link"},[n("router-link",{attrs:{to:"/logout"}},[e._v("Log out")])],1):e._e()])]),n("div",{ref:"header-plum",staticClass:"outer-plum-bottom"},[n("SearchBar")],1)])},c=[],s=n("d4ec"),u=n("bee2"),l=n("99de"),d=n("7e84"),f=n("262e"),b=n("9ab4"),p=n("60a3"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"search-bar"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",id:"search-input",placeholder:"What are you looking for today?"},domProps:{value:e.searchValue},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.search()},input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),n("LButton",{attrs:{btnClass:"search",btnId:"search-button",btnLabel:"Search"},on:{buttonClick:function(t){e.search()}}})],1)},v=[],m=n("65d9"),g=n.n(m),k=n("9459"),y=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.searchValue="",e}return Object(f["a"])(t,e),Object(u["a"])(t,[{key:"search",value:function(){this.$router.push("/search/"+this.searchValue)}}]),t}(o["default"]);y=b["a"]([g()({components:{LButton:k["a"]}})],y);var j=y,_=j,O=(n("db08"),n("2877")),w=Object(O["a"])(_,h,v,!1,null,"0d357ca4",null);w.options.__file="SearchBar.vue";var C=w.exports,I=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).call(this)),window.addEventListener("scroll",function(){e.makeSticky()}),e}return Object(f["a"])(t,e),Object(u["a"])(t,[{key:"created",value:function(){this.loggedIn=!!this.$cookies.get("user"),this.loggedIn&&(this.firstName=this.$cookies.get("user").firstName)}},{key:"makeSticky",value:function(){var e=this.$refs["header-plum"],t=this.$refs["header-mauve"];window.pageYOffset>=e.clientTop+133&&(e.classList.add("sticky"),t.classList.add("stickyMauve")),window.pageYOffset<=133&&(e.classList.remove("sticky"),t.classList.remove("stickyMauve"))}}]),t}(p["c"]);b["a"]([Object(p["b"])()],I.prototype,"loggedIn",void 0),b["a"]([Object(p["b"])()],I.prototype,"firstName",void 0),b["a"]([Object(p["b"])()],I.prototype,"userId",void 0),I=b["a"]([Object(p["a"])({components:{SearchBar:C}})],I);var L=I,E=L,$=(n("3e10"),Object(O["a"])(E,i,c,!1,null,"2dbac307",null));$.options.__file="Header.vue";var N=$.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"footer"}},[n("div",{staticClass:"outer-plum"},[n("div",{staticClass:"outer-mauve"},[n("div",{staticClass:"inner-lavender"},[n("div",{attrs:{id:"footer-content"}},[n("div",{staticClass:"links"},e._l(e.links,function(e){return n("div",{staticClass:"link"},[n("a",{class:e.icon,attrs:{target:"_blank",href:e.url}})])}))])])])])])},P=[],S=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.links=[{icon:"github",url:"https://github.com/lad475/Borrowing-Service-Client"},{icon:"facebook",url:"#"},{icon:"twitter",url:"#"},{icon:"youtube",url:"#"}],e}return Object(f["a"])(t,e),t}(o["default"]);S=b["a"]([g.a],S);var T=S,B=T,F=(n("8def"),Object(O["a"])(B,x,P,!1,null,"802182f6",null));F.options.__file="Footer.vue";var A=F.exports,M={components:{"pt-header":N,"pt-footer":A}},V=M,q=(n("5c0b"),Object(O["a"])(V,a,r,!1,null,null,null));q.options.__file="App.vue";var z=q.exports,H=n("8c4f"),U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"home"}},[n("div",{staticClass:"content-wrapper"},[n("div",{staticClass:"col-1",attrs:{id:"feed-container"}},[n("Feed")],1)])])},D=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"feedItems"},[n("div",{staticClass:"feed-header"},[n("span",{staticClass:"feed-header-text"},[e._v("\n      Feed\n    ")]),n("a",{on:{click:function(t){e.getFeed()}}},[n("div",{class:"refresh "+(e.feedLoading?"loading":"")})])]),e._l(e.feedItems,function(e,t){return n("div",{key:t},[n("FeedItem",{attrs:{feedClass:t%2===0?"mint":"white",borrower:e.mainPersonUsername,owner:"listed"===e.action?e.mainPersonUsername:e.secondaryPersonUsername,itemName:e.objectName,linkToItem:e.objectId,ownerId:"listed"===e.action?e.mainPersonId:e.secondaryPersonId,borrowerId:e.mainPersonId,action:e.action}})],1)})],2)},Y=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"feedItem "+e.feedClass},["borrowed"===e.action?n("span",[n("router-link",{attrs:{to:"/user/"+e.borrowerId}},[e._v("\n      "+e._s(e.borrower)+"\n    ")]),e._v(" borrowed \n    "),n("router-link",{attrs:{to:"/item/"+e.linkToItem}},[e._v("\n      "+e._s(e.itemName)+"\n    ")]),e._v(" from \n    "),n("router-link",{attrs:{to:"/user/"+e.ownerId}},[e._v("\n      "+e._s(e.owner)+"\n    ")])],1):e._e(),"listed"===e.action?n("span",[n("router-link",{attrs:{to:"/user/"+e.ownerId}},[e._v("\n      "+e._s(e.owner)+"\n    ")]),e._v(" put up \n    "),n("router-link",{attrs:{to:"/item/"+e.linkToItem}},[e._v("\n      "+e._s(e.itemName)+"\n    ")]),e._v("\n    to be borrowed\n  ")],1):e._e()])},G=[],K=function(e){function t(){return Object(s["a"])(this,t),Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(f["a"])(t,e),t}(o["default"]);b["a"]([Object(p["b"])()],K.prototype,"feedClass",void 0),b["a"]([Object(p["b"])()],K.prototype,"itemName",void 0),b["a"]([Object(p["b"])()],K.prototype,"borrower",void 0),b["a"]([Object(p["b"])()],K.prototype,"owner",void 0),b["a"]([Object(p["b"])()],K.prototype,"linkToItem",void 0),b["a"]([Object(p["b"])()],K.prototype,"ownerId",void 0),b["a"]([Object(p["b"])()],K.prototype,"borrowerId",void 0),b["a"]([Object(p["b"])()],K.prototype,"action",void 0),K=b["a"]([p["a"]],K);var Q=K,R=Q,X=(n("658d"),Object(O["a"])(R,W,G,!1,null,"727fe57a",null));X.options.__file="FeedItem.vue";var Z=X.exports,ee=n("bc3a"),te=n.n(ee),ne=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.feedLoading=!1,e.feedItems=[],e}return Object(f["a"])(t,e),Object(u["a"])(t,[{key:"created",value:function(){this.getFeed()}},{key:"getFeed",value:function(){var e=this;this.feedLoading=!0,te.a.get("https://borrowing-svc-api.appspot.com/utils/feed").then(function(t){304!==t.status&&(e.feedItems=t.data.slice(0,10))}).catch(function(e){}).finally(function(){e.feedLoading=!1,console.log(e.feedItems)})}}]),t}(p["c"]);ne=b["a"]([Object(p["a"])({components:{FeedItem:Z}})],ne);var oe=ne,ae=oe,re=(n("a6f8"),Object(O["a"])(ae,J,Y,!1,null,"9ead3750",null));re.options.__file="Feed.vue";var ie=re.exports,ce=function(e){function t(){return Object(s["a"])(this,t),Object(l["a"])(this,Object(d["a"])(t).apply(this,arguments))}return Object(f["a"])(t,e),t}(p["c"]);ce=b["a"]([Object(p["a"])({components:{LButton:k["a"],Feed:ie}})],ce);var se=ce,ue=se,le=(n("74a4"),Object(O["a"])(ue,U,D,!1,null,"434e3805",null));le.options.__file="Home.vue";var de=le.exports;o["default"].use(H["a"]);var fe=new H["a"]({routes:[{path:"/",name:"home",component:de},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/register",name:"register",component:function(){return n.e("chunk-eff5b30e").then(n.bind(null,"73cf"))}},{path:"/login",name:"login",component:function(){return n.e("chunk-209dd158").then(n.bind(null,"a55b"))}},{path:"/new-listing",name:"new-listing",component:function(){return n.e("chunk-7c82ad4e").then(n.bind(null,"c5d3"))}},{path:"/logout",name:"logout",component:function(){return n.e("chunk-11ccd78c").then(n.bind(null,"c100"))}},{path:"/item/:id",name:"view-listing",component:function(){return n.e("chunk-5907760c").then(n.bind(null,"c3e3"))}},{path:"/user/:id",name:"user",component:function(){return n.e("chunk-54f2bc06").then(n.bind(null,"1511"))}},{path:"/search/:itemName",name:"search",component:function(){return n.e("chunk-4d890ee2").then(n.bind(null,"2d3b"))}},{path:"/search/",name:"search",component:function(){return n.e("chunk-4d890ee2").then(n.bind(null,"2d3b"))}}]}),be=n("2f62");o["default"].use(be["a"]);var pe=new be["a"].Store({state:{},mutations:{},actions:{}}),he=n("2b27"),ve=n.n(he),me=n("9483");Object(me["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ge=function(){function e(){Object(s["a"])(this,e)}return Object(u["a"])(e,null,[{key:"authorize",value:function(e){return te.a.get("https://borrowing-svc-api.appspot.com/users/auth",{headers:{Authorization:e}})}}]),e}();o["default"].use(ve.a),o["default"].config.productionTip=!1;var ke=["new-listing","logout"],ye=["login","register"];fe.beforeEach(function(e,t,n){o["default"].cookies.get("token")?ge.authorize(o["default"].cookies.get("token")).then(function(t){t.data.success?ye.includes(e.name?e.name:"home")?n({name:"home"}):n():(o["default"].cookies.remove("token"),o["default"].cookies.remove("user"),ke.includes(e.name?e.name:"home")?n({name:"login"}):n())}).catch(function(t){o["default"].cookies.remove("token"),o["default"].cookies.remove("user"),ke.includes(e.name?e.name:"home")?n({name:"login"}):n()}):ke.includes(e.name?e.name:"home")?n({name:"login"}):n()}),new o["default"]({router:fe,store:pe,render:function(e){return e(z)}}).$mount("#app")},db08:function(e,t,n){"use strict";var o=n("794e"),a=n.n(o);a.a},faa5:function(e,t,n){},fe26:function(e,t,n){}});
//# sourceMappingURL=app.0f9fc3cc.js.map