{"version":3,"sources":["webpack:///./src/views/NewListing.vue?0841","webpack:///./src/views/NewListing.vue?b7bd","webpack:///./src/views/NewListing.vue?c1fe","webpack:///./src/views/NewListing.vue?e696","webpack:///./src/views/NewListing.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NewListing_vue_vue_type_style_index_0_id_51485988_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NewListing_vue_vue_type_style_index_0_id_51485988_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","_v","directives","name","rawName","value","expression","ref","class","invalid","type","placeholder","domProps","on","blur","$event","validate","keyup","_k","keyCode","key","submitForm","resetField","keypress","input","target","composing","$set","_e","zipCode","description","_s","length","change","uploadFile","btnId","btnClass","btnLabel","spinning","isLoading","buttonClick","staticRenderFns","NewListingvue_type_script_lang_ts_NewListing","_Vue","NewListing","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","allRefs","$refs","listingError","test","inherits","createClass","field","_this2","validateAll","focusOnFirstField","payload","file","headers","Authorization","$cookies","get","axios_default","a","post","then","res","data","$router","push","concat","catch","err","console","log","finally","files","focus","vue_property_decorator","tslib_es6","components","LButton","NewListingvue_type_script_lang_ts_","views_NewListingvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-7c82ad4e.0c513342.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewListing.vue?vue&type=style&index=0&id=51485988&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewListing.vue?vue&type=style&index=0&id=51485988&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"new-listing\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"page-title\"},[_vm._v(\"\\n      Add a new item\\n    \")]),_c('div',{staticClass:\"col-container\"},[_c('div',{staticClass:\"col-1 pt-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name.value),expression:\"name.value\"}],ref:\"name\",class:_vm.name.invalid ? 'invalid' : 'valid',attrs:{\"type\":\"text\",\"placeholder\":\"Item Name\"},domProps:{\"value\":(_vm.name.value)},on:{\"blur\":function($event){_vm.name.validate()},\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm()},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\"])){ return null; }_vm.resetField(_vm.name)}],\"keypress\":function($event){_vm.resetField(_vm.name)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.name, \"value\", $event.target.value)}}}),(_vm.name.invalid)?_c('span',{staticClass:\"error-msg\"},[_vm._v(\"\\n          Please enter a valid name\\n        \")]):_vm._e()]),_c('div',{staticClass:\"col-1 pt-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.zipCode.value),expression:\"zipCode.value\"}],ref:\"zipCode\",class:_vm.zipCode.invalid ? 'invalid': 'valid',attrs:{\"type\":\"text\",\"placeholder\":\"Zip Code\"},domProps:{\"value\":(_vm.zipCode.value)},on:{\"blur\":function($event){_vm.zipCode.validate()},\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm()},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\"])){ return null; }_vm.resetField(_vm.name)}],\"keypress\":function($event){_vm.resetField(_vm.name)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.zipCode, \"value\", $event.target.value)}}}),(_vm.zipCode.invalid)?_c('span',{staticClass:\"error-msg\"},[_vm._v(\"\\n          Please enter a valid zip code\\n        \")]):_vm._e()])]),_c('div',{staticClass:\"col-container\"},[_c('div',{staticClass:\"col-2 pt-input\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description.value),expression:\"description.value\"}],class:_vm.description.invalid ? 'invalid' : 'valid',attrs:{\"placeholder\":\"Description\"},domProps:{\"value\":(_vm.description.value)},on:{\"keyup\":[function($event){_vm.description.validate()},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm()}],\"blur\":function($event){_vm.description.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.description, \"value\", $event.target.value)}}}),_c('span',{class:'char-remaining ' + (_vm.description.invalid ? 'error-msg' : '')},[_vm._v(\"\\n          \"+_vm._s(500 - _vm.description.value.length)+\" characters remaining\\n        \")])])]),_c('div',{staticClass:\"col-container\"},[_c('div',{staticClass:\"col-2 pt-input\"},[_c('input',{ref:\"file\",attrs:{\"type\":\"file\",\"id\":\"file\"},on:{\"change\":function($event){_vm.uploadFile()}}})])]),_c('div',{staticClass:\"btn-wrapper\"},[_c('LButton',{attrs:{\"btnId\":\"listing-btn\",\"btnClass\":\"primary\",\"btnLabel\":\"Add Listing\",\"spinning\":_vm.isLoading},on:{\"buttonClick\":function($event){_vm.submitForm()}}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport FormField from '@/interfaces/FormField';\nimport LButton from '@/components/shared/LButton.vue';\nimport axios from 'axios';\n\n@Component({\n  components: {\n    LButton,\n  },\n})\nexport default class NewListing extends Vue {\n  private name: FormField;\n  private description: FormField;\n  private zipCode: FormField;\n  private file!: File;\n  private allRefs = this.$refs as {[key: string]: HTMLInputElement};\n  private listingError = false;\n  private isLoading = false;\n\n  constructor() {\n    super();\n    this.name = {\n      invalid: false,\n      value: '',\n      validate: () => {\n        this.name.invalid = this.name.value.length < 40 && this.name.value.length > 2 ? false : true;\n      },\n    };\n    this.description = {\n      invalid: false,\n      value: '',\n      validate: () => {\n        this.description.invalid = this.description.value.length > 500;\n      },\n    };\n    this.zipCode = {\n      invalid: false,\n      value: '',\n      validate: () => {\n        this.zipCode.invalid = !/^\\d{5}(-\\d{4})?$/.test(this.zipCode.value);\n      },\n    };\n  }\n\n  private resetField(field: FormField) {\n    field.invalid = false;\n    this.listingError = false;\n  }\n\n  private submitForm() {\n    this.validateAll();\n    if (!this.listingError && !this.name.invalid && !this.description.invalid && !this.zipCode.invalid) {\n      this.isLoading = true;\n      const payload = {\n        name: this.name.value,\n        file: this.file,\n        zipCode: this.zipCode.value,\n        description: this.description.value,\n      };\n      const headers = {\n        Authorization: this.$cookies.get('token'),\n      };\n      axios.post('https://borrowing-svc-api.appspot.com/item/add', payload, { headers })\n        .then ((res) => {\n          if (res.data.id) {\n            this.$router.push(`/item/${res.data.id}`);\n          }\n        }).catch((err) => {\n          console.log(err);\n        }).finally(() => {\n          this.isLoading = false;\n        });\n    } else {\n      this.focusOnFirstField();\n    }\n  }\n\n  private uploadFile() {\n    if (this.allRefs.file.files) {\n      this.file = this.allRefs.file.files[0];\n    }\n  }\n\n  private validateAll() {\n    this.name.validate();\n    this.description.validate();\n    this.zipCode.validate();\n  }\n\n  private focusOnFirstField() {\n    if (this.name.invalid) {\n      this.allRefs.name.focus();\n    } else if (this.description.invalid) {\n      this.allRefs.description.focus();\n    } else if (this.zipCode.invalid) {\n      this.allRefs.zipCode.focus();\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewListing.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewListing.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NewListing.vue?vue&type=template&id=51485988&scoped=true&\"\nimport script from \"./NewListing.vue?vue&type=script&lang=ts&\"\nexport * from \"./NewListing.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./NewListing.vue?vue&type=style&index=0&id=51485988&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51485988\",\n  null\n  \n)\n\ncomponent.options.__file = \"NewListing.vue\"\nexport default component.exports"],"sourceRoot":""}