{"version":3,"sources":["webpack:///./src/views/User.vue?4f4c","webpack:///./src/views/User.vue?c1de","webpack:///./src/views/User.vue?d413","webpack:///./src/views/User.vue","webpack:///./src/views/User.vue?9130"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","isLoading","_e","_v","_s","username","objects","length","rating","loggedIn","submittedRating","on","click","$event","rate","btnClass","btnLabel","isDisabled","disablePrevious","btnId","buttonClick","previousObject","_l","item","to","objectId","objectName","description","substring","disableNext","nextObject","userExists","staticRenderFns","Uservue_type_script_lang_ts_User","_Vue","User","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","currentObjects","Array","index","ratingError","inherits","createClass","key","value","_this2","payload","axios_default","a","post","then","res","catch","err","slice","_this3","$cookies","get","$route","params","data","listedObjects","finally","_this4","vue_property_decorator","tslib_es6","components","LButton","Uservue_type_script_lang_ts_","views_Uservue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_User_vue_vue_type_style_index_0_id_18e16e00_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_User_vue_vue_type_style_index_0_id_18e16e00_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-54f2bc06.8e8f288d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"User\"}},[_c('div',{staticClass:\"container\"},[(!_vm.isLoading)?_c('div',[(_vm.userExists)?_c('div',[_c('div',{staticClass:\"page-title\"},[_vm._v(\"\\n          \"+_vm._s(_vm.username)+\"\\n        \")]),_c('div',{staticClass:\"page-text\"},[(_vm.objects.length > 0)?_c('span',[_vm._v(\"\\n            This user has \"+_vm._s(_vm.objects.length)+\" listings up.\\n          \")]):_vm._e(),(_vm.rating)?_c('span',[_vm._v(\"\\n            This user has a rating of \"+_vm._s(_vm.rating)+\" / 5\\n          \")]):_vm._e(),(!_vm.rating)?_c('span',[_vm._v(\"\\n            This user has not yet been rated.\\n          \")]):_vm._e(),(_vm.loggedIn && _vm.submittedRating === false)?_c('span',{staticClass:\"rating\"},[_vm._v(\"\\n            Rate this user?\\n            \"),_c('div',{staticClass:\"rate\"},[_c('button',{on:{\"click\":function($event){_vm.rate(1)}}},[_vm._v(\"1\")]),_c('button',{on:{\"click\":function($event){_vm.rate(2)}}},[_vm._v(\"2\")]),_c('button',{on:{\"click\":function($event){_vm.rate(3)}}},[_vm._v(\"3\")]),_c('button',{on:{\"click\":function($event){_vm.rate(4)}}},[_vm._v(\"4\")]),_c('button',{on:{\"click\":function($event){_vm.rate(5)}}},[_vm._v(\"5\")])])]):_vm._e(),(_vm.submittedRating)?_c('span',{staticClass:\"rating\"},[_vm._v(\"\\n            Thanks for submitting your rating!\\n          \")]):_vm._e(),(_vm.ratingError)?_c('span',{staticClass:\"error-msg\"},[_vm._v(\"\\n            Your rating could not be submitted. Please try again.\\n          \")]):_vm._e()]),(_vm.objects.length > 0)?_c('div',{staticClass:\"items\"},[_c('div',{staticClass:\"small-btn-wrapper left\"},[_c('LButton',{attrs:{\"btnClass\":\"primary inline\",\"btnLabel\":\"<\",\"isDisabled\":_vm.disablePrevious,\"btnId\":\"previous-button\"},on:{\"buttonClick\":function($event){_vm.previousObject()}}})],1),_vm._l((_vm.currentObjects),function(item){return _c('div',{staticClass:\"item\"},[_c('router-link',{staticClass:\"item-name\",attrs:{\"to\":'/item/' + item.objectId}},[_vm._v(\"\\n              \"+_vm._s(item.objectName)+\"\\n            \")]),_c('div',{staticClass:\"item-description\"},[_vm._v(\"\\n              \"+_vm._s(item.description.length > 90 ? item.description.substring(0, 90) + '...' : item.description)+\"\\n            \")])],1)}),_c('div',{staticClass:\"small-btn-wrapper right\"},[_c('LButton',{attrs:{\"btnClass\":\"primary inline\",\"btnLabel\":\">\",\"isDisabled\":_vm.disableNext,\"btnId\":\"next-button\"},on:{\"buttonClick\":function($event){_vm.nextObject()}}})],1)],2):_vm._e(),(_vm.objects.length === 0)?_c('div',[_c('div',{staticClass:\"no-items\"},[_vm._v(\"\\n            This user has not listed anything yet.\\n          \")])]):_vm._e()]):_vm._e(),(!_vm.userExists)?_c('div',[_c('div',{staticClass:\"page-title\"},[_vm._v(\"\\n          404 Not Found\\n        \")]),_c('div',{staticClass:\"page-text not-found\"},[_vm._v(\"\\n          We're sorry, but the user you're looking for doesn't exist.\\n        \")])]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport LButton from '@/components/shared/LButton.vue';\nimport { Vue, Component, Watch } from 'vue-property-decorator';\nimport axios from 'axios';\n\n@Component({\n  components: {\n    LButton,\n  },\n})\nexport default class User extends Vue {\n\n  private userExists = false;\n  private isLoading = true;\n  private username!: string;\n  private objects!: [any];\n  private currentObjects = new Array();\n  private index = 0;\n  private disableNext = true;\n  private disablePrevious = true;\n  private rating!: number;\n  private loggedIn!: boolean;\n  private submittedRating = false;\n  private ratingError = false;\n\n  constructor() {\n    super();\n  }\n\n  private rate(rating: number) {\n    this.ratingError = false;\n    const payload = {\n      username: this.username,\n      rating,\n    };\n    if (this.submittedRating) {\n      this.ratingError = true;\n    }\n    axios.post('https://borrowing-svc-api.appspot.com/users/review', payload)\n      .then((res) => {\n        this.submittedRating = true;\n      }).catch((err) => {\n        this.ratingError = true;\n      });\n  }\n\n  private previousObject() {\n    if (!this.disablePrevious) {\n      this.disableNext = false;\n      this.index--;\n      if (this.index === 0) {\n        this.disablePrevious = true;\n      }\n      this.currentObjects = this.objects.slice(this.index, this.index + 3);\n    }\n  }\n\n  private nextObject() {\n    if (!this.disableNext) {\n      this.disablePrevious = false;\n      this.index++;\n      if (this.index+3 === this.objects.length) {\n        this.disableNext = true;\n      }\n      this.currentObjects = this.objects.slice(this.index, this.index+3);\n    }\n  }\n\n  created() {\n    this.loggedIn = this.$cookies.get('token') ? true : false;\n    axios.get('https://borrowing-svc-api.appspot.com/users/view?userId=' + this.$route.params.id)\n      .then((res) => {\n        if (res.data.username) {\n          this.rating = res.data.rating;\n          this.username = res.data.username;\n          this.objects = res.data.listedObjects;\n          if (this.objects.length > 3) {\n            this.currentObjects = this.objects.slice(0, 3);\n            this.disableNext = false;\n          } else {\n            this.currentObjects = this.objects;\n          }\n          this.userExists = true;\n        } else {\n          this.userExists = false;\n        }\n      }).catch((err) => {\n        this.userExists = false;\n      }).finally(() => {\n        this.isLoading = false;\n      });\n  }\n\n  @Watch ('$route')\n  onRouteChange() {\n    this.loggedIn = this.$cookies.get('token') ? true : false;\n    axios.get('https://borrowing-svc-api.appspot.com/users/view?userId=' + this.$route.params.id)\n      .then((res) => {\n        if (res.data.username) {\n          this.rating = res.data.rating;\n          this.username = res.data.username;\n          this.objects = res.data.listedObjects;\n          if (this.objects.length > 3) {\n            this.currentObjects = this.objects.slice(0, 3);\n            this.disableNext = false;\n          } else {\n            this.currentObjects = this.objects;\n          }\n          this.userExists = true;\n        } else {\n          this.userExists = false;\n        }\n      }).catch((err) => {\n        this.userExists = false;\n      }).finally(() => {\n        this.isLoading = false;\n      });\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=18e16e00&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=ts&\"\nexport * from \"./User.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=18e16e00&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18e16e00\",\n  null\n  \n)\n\ncomponent.options.__file = \"User.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=18e16e00&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=18e16e00&lang=scss&scoped=true&\""],"sourceRoot":""}