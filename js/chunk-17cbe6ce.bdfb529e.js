(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17cbe6ce"],{"3a4b":function(e,a,s){},"8c88":function(e,a,s){"use strict";var n=s("3a4b"),t=s.n(n);t.a},a55b:function(e,a,s){"use strict";s.r(a);var n=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{attrs:{id:"login"}},[s("div",{staticClass:"login-container"},[s("div",{staticClass:"page-title"},[e._v("Sign in to PalmTree")]),s("div",{staticClass:"pt-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username.value,expression:"username.value"}],ref:"username",class:e.username.invalid?"invalid":"valid",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username.value},on:{keypress:function(a){e.resetValidation("username")},keyup:[function(a){if(!("button"in a)&&e._k(a.keyCode,"delete",[8,46],a.key,["Backspace","Delete"]))return null;e.resetValidation("username")},function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.submitForm()}],blur:function(a){e.username.validate()},input:function(a){a.target.composing||e.$set(e.username,"value",a.target.value)}}}),e.username.invalid?s("span",{staticClass:"error-msg"},[e._v("Please enter a valid username.")]):e._e()]),s("div",{staticClass:"pt-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password.value,expression:"password.value"}],ref:"password",class:e.password.invalid?"invalid":"valid",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password.value},on:{keypress:function(a){e.resetValidation("password")},keyup:[function(a){if(!("button"in a)&&e._k(a.keyCode,"delete",[8,46],a.key,["Backspace","Delete"]))return null;e.resetValidation("password")},function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.submitForm()}],blur:function(a){e.password.validate()},input:function(a){a.target.composing||e.$set(e.password,"value",a.target.value)}}}),e.password.invalid?s("span",{staticClass:"error-msg"},[e._v("Please enter a valid password.")]):e._e()]),e.loginError?s("div",{staticClass:"login-error error-msg"},[s("span",[e._v("The entered username and password combination could not be found.")])]):e._e(),s("div",{staticClass:"btn-wrapper"},[s("LButton",{attrs:{btnId:"login-button",btnClass:"primary",btnLabel:"Log in",spinning:e.loading},on:{buttonClick:function(a){e.submitForm()}}})],1),s("div",{staticClass:"signup-link-wrapper"},[s("span",{staticClass:"signup-text"},[e._v("Don't have an account?")]),s("router-link",{staticClass:"signup-link",attrs:{to:"/register"}},[e._v("Sign up here.")])],1)])])},t=[],i=s("d4ec"),r=s("bee2"),o=s("99de"),l=s("7e84"),u=s("262e"),d=(s("cadf"),s("551c"),s("097d"),s("9ab4")),c=s("60a3"),p=s("9459"),v=s("bc3a"),m=s.n(v),f=function(e){function a(){var e;return Object(i["a"])(this,a),e=Object(o["a"])(this,Object(l["a"])(a).call(this)),e.loading=!1,e.loginError=!1,e.username={invalid:!1,value:"",validate:function(){e.username.invalid=e.username.value.length<6}},e.password={invalid:!1,value:"",validate:function(){e.password.invalid=e.password.value.length<8}},e}return Object(u["a"])(a,e),Object(r["a"])(a,[{key:"submitForm",value:function(){var e=this;if(this.loginError=!1,this.username.validate(),this.password.validate(),this.username.invalid||this.password.invalid)if(this.username.invalid){var a=this.$refs.username;a.focus()}else{var s=this.$refs.password;s.focus()}else{this.loading=!0;var n={username:this.username.value,password:this.password.value};m.a.post("https://borrowing-svc-api.appspot.com/users/login",n).then(function(a){a.data.token?(e.$cookies.set("token",a.data.token),e.$cookies.set("user",a.data.userObj),e.$router.push("/")):e.loginError=!0}).catch(function(a){e.loginError=!0}).finally(function(){e.loading=!1})}}},{key:"resetValidation",value:function(e){"username"===e?this.username.invalid=!1:"password"===e&&(this.password.invalid=!1),this.loginError=!1}}]),a}(c["c"]);f=d["a"]([Object(c["a"])({components:{LButton:p["a"]}})],f);var b=f,g=b,w=(s("8c88"),s("2877")),h=Object(w["a"])(g,n,t,!1,null,"47e87ea1",null);h.options.__file="Login.vue";a["default"]=h.exports}}]);
//# sourceMappingURL=chunk-17cbe6ce.bdfb529e.js.map