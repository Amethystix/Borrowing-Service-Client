{"version":3,"sources":["webpack:///./src/views/Login.vue?34e1","webpack:///./src/views/Login.vue?2e9e","webpack:///./src/views/Login.vue?bb6b","webpack:///./src/views/Login.vue?5134","webpack:///./src/views/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_47e87ea1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_47e87ea1_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","_v","directives","name","rawName","value","username","expression","ref","class","invalid","type","placeholder","domProps","on","keypress","$event","resetValidation","keyup","_k","keyCode","key","submitForm","blur","validate","input","target","composing","$set","_e","password","btnId","btnClass","btnLabel","spinning","loading","buttonClick","to","staticRenderFns","Loginvue_type_script_lang_ts_Login","_Vue","Login","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loginError","length","inherits","createClass","_this2","usernameInput","$refs","focus","passwordInput","payload","axios_default","a","post","then","res","data","token","$cookies","set","userObj","$router","push","catch","err","finally","formField","vue_property_decorator","tslib_es6","components","LButton","Loginvue_type_script_lang_ts_","views_Loginvue_type_script_lang_ts_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-17cbe6ce.bdfb529e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=47e87ea1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=47e87ea1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"login\"}},[_c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"page-title\"},[_vm._v(\"Sign in to PalmTree\")]),_c('div',{staticClass:\"pt-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username.value),expression:\"username.value\"}],ref:\"username\",class:_vm.username.invalid ? 'invalid' : 'valid',attrs:{\"type\":\"text\",\"placeholder\":\"Username\"},domProps:{\"value\":(_vm.username.value)},on:{\"keypress\":function($event){_vm.resetValidation('username')},\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\"])){ return null; }_vm.resetValidation('username')},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm()}],\"blur\":function($event){_vm.username.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.username, \"value\", $event.target.value)}}}),(_vm.username.invalid)?_c('span',{staticClass:\"error-msg\"},[_vm._v(\"Please enter a valid username.\")]):_vm._e()]),_c('div',{staticClass:\"pt-input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password.value),expression:\"password.value\"}],ref:\"password\",class:_vm.password.invalid ? 'invalid' : 'valid',attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.password.value)},on:{\"keypress\":function($event){_vm.resetValidation('password')},\"keyup\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\"])){ return null; }_vm.resetValidation('password')},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm()}],\"blur\":function($event){_vm.password.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.password, \"value\", $event.target.value)}}}),(_vm.password.invalid)?_c('span',{staticClass:\"error-msg\"},[_vm._v(\"Please enter a valid password.\")]):_vm._e()]),(_vm.loginError)?_c('div',{staticClass:\"login-error error-msg\"},[_c('span',[_vm._v(\"The entered username and password combination could not be found.\")])]):_vm._e(),_c('div',{staticClass:\"btn-wrapper\"},[_c('LButton',{attrs:{\"btnId\":\"login-button\",\"btnClass\":\"primary\",\"btnLabel\":\"Log in\",\"spinning\":_vm.loading},on:{\"buttonClick\":function($event){_vm.submitForm()}}})],1),_c('div',{staticClass:\"signup-link-wrapper\"},[_c('span',{staticClass:\"signup-text\"},[_vm._v(\"Don't have an account?\")]),_c('router-link',{staticClass:\"signup-link\",attrs:{\"to\":\"/register\"}},[_vm._v(\"Sign up here.\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator';\nimport LButton from '@/components/shared/LButton.vue';\nimport FormField from '@/interfaces/FormField';\nimport axios from 'axios';\n\n@Component({\n  components: {\n    LButton,\n  },\n})\nexport default class Login extends Vue {\n  private username: FormField;\n  private password: FormField;\n  private loginError: boolean;\n  private loading = false;\n\n  constructor() {\n    super();\n    this.loginError = false;\n    this.username = {\n      invalid: false,\n      value: '',\n      validate: () => {\n        this.username.invalid = this.username.value.length < 6 ? true : false;\n      },\n    };\n    this.password = {\n      invalid: false,\n      value: '',\n      validate: () => {\n        this.password.invalid = this.password.value.length < 8 ? true : false;\n      },\n    };\n  }\n\n  private submitForm() {\n    this.loginError = false;\n    this.username.validate();\n    this.password.validate();\n    if (!this.username.invalid && !this.password.invalid) {\n      this.loading = true;\n      const payload = {\n        username: this.username.value,\n        password: this.password.value,\n      };\n      axios.post('https://borrowing-svc-api.appspot.com/users/login', payload)\n        .then((res) => {\n          if (res.data.token) {\n            this.$cookies.set('token', res.data.token);\n            this.$cookies.set('user', res.data.userObj);\n            this.$router.push('/');\n          } else {\n            this.loginError = true;\n          }\n        }).catch((err) => {\n          this.loginError = true;\n        }).finally(() => {\n          this.loading = false;\n        });\n    } else if (this.username.invalid) {\n      const usernameInput = this.$refs.username as HTMLInputElement;\n      usernameInput.focus();\n    } else {\n      const passwordInput = this.$refs.password as HTMLInputElement;\n      passwordInput.focus();\n    }\n  }\n\n  private resetValidation(formField: string) {\n    if (formField === 'username') {\n      this.username.invalid = false;\n    } else if (formField === 'password') {\n      this.password.invalid = false;\n    }\n    this.loginError = false;\n  }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=47e87ea1&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=47e87ea1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47e87ea1\",\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}